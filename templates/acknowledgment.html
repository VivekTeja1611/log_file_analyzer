<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Success</title>
</head>

<body>
   <h2>Successfully uploaded!</h2>
   <p><a href="/static/Apache_2k.csv" target="_blank">Click here to view the CSV file</a></p>
   <div id="csv-table"></div>
   
</body>
<script>
fetch('/static/Apache_2k.csv')
  .then(response => response.text())
  .then(data => {
    const rows = data.trim().split('\n');
    const table = document.createElement('table');
    table.border = '1';
    table.style.borderCollapse = 'collapse';

    rows.forEach((row, i) => {
      const tr = document.createElement('tr');
      row.split(',').forEach(cell => {
        const td = document.createElement(i === 0 ? 'th' : 'td');
        td.textContent = cell;
        td.style.padding = '4px 8px';
        tr.appendChild(td);
      });
      table.appendChild(tr);
    });

    document.getElementById('csv-table').appendChild(table);
  });
</script>

</html>